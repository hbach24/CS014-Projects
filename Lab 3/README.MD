Function template and exception handling
